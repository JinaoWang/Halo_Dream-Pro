(()=>{var u;(u=jQuery).fn.circleMagic=function(e){let o,n,a,i,r=!0,c=null,d=!0;const l=[],s=u.extend({color:"rgba(255,255,255,.5)",radius:10,density:.3,clearOffset:.2,mode:"all"},e);var t,e=this[0];function h(){if(c=null!==(e=localStorage.getItem("night"))?"true"===e:null!==c?c:document.documentElement.classList.contains("night"),"all"===s.mode||"day"===s.mode&&!c||"night"===s.mode&&c){if(d=!0,r){i.clearRect(0,0,o,n);for(const t in l)l[t].draw()}}else i&&a&&d&&(i.clearRect(0,0,a.width,a.height),d=!1);var e;requestAnimationFrame(h)}function f(){var e=this;function t(){e.pos.x=Math.random()*o,e.pos.y=n+100*Math.random(),e.alpha=.1+Math.random()*s.clearOffset,e.scale=.1+.3*Math.random(),e.speed=Math.random(),"random"===s.color?e.color="rgba("+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", "+Math.random().toPrecision(2)+")":e.color=s.color}e.pos={},t(),this.draw=function(){e.alpha<=0&&t(),e.pos.y-=e.speed,e.alpha-=5e-4,i.beginPath(),i.arc(e.pos.x,e.pos.y,e.scale*s.radius,0,2*Math.PI,!1),i.fillStyle=e.color,i.fill(),i.closePath()}}o=window.innerWidth,n=window.innerHeight,(a=((t=document.createElement("canvas")).id="effects_circleMagic",t.setAttribute("class","canvas_effects "+s.mode),t.setAttribute("style","position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;"),e.prepend(t),t)).width=o,a.height=n,i=a.getContext("2d");for(let e=0;e<o*s.density;e++){var m=new f;l.push(m)}h(),window.addEventListener("scroll",function(){r=!(document.body.scrollTop>n)},!1),window.addEventListener("resize",function(){o=window.innerWidth,n=window.innerHeight,a.width=o,a.height=n},!1)},u("body").circleMagic({radius:35,density:.3,color:"rgba(255,255,255, .4)",clearOffset:.3,mode:DreamConfig.effects_circle_magic_mode})})();